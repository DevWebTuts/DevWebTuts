webpackJsonp([15],{668:function(e,t,r){var a=r(356)(r(688),r(749),null,null,null);e.exports=a.exports},688:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(135),n=r.n(a),s=r(134),i=r.n(s);t.default={name:"all-articles",data:function(){return{scrolled:!1,loading:0,limit:8,offset:1,search:""}},computed:{loadedItems:function(){return this.limit*this.offset},canViewMore:function(){return!!this.count&&this.loadedItems<this.count.count}},apollo:{count:function(){return{query:this.$gql.queries.articlesCount,fetchPolicy:"cache-and-network",loadingKey:"loading",variables:function(){return{search:this.search}}}},articles:function(){return{query:this.$gql.queries.articles,fetchPolicy:"cache-and-network",loadingKey:"loading",variables:function(){return{search:this.search,first:8}}}}},methods:{loadMore:function(){function e(e,r){return t.apply(this,arguments)}var t=i()(n.a.mark(function e(t,r){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.canViewMore){e.next=3;break}return e.abrupt("return");case 3:return this.offset++,e.next=6,this.$apollo.queries.articles.fetchMore({variables:{search:this.search,first:this.loadedItems},updateQuery:function(e,t){return{users:t.fetchMoreResult.users}}});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,r(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,8,10,13]])}));return e}()}}},749:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vh-100-min"},[r("q-toolbar",{staticClass:"accent",attrs:{flat:"flat",dark:"dark"}},[r("q-toolbar-title",[e._v("Articles ("+e._s(e.count?e.count.count:0)+")")]),r("q-search",{attrs:{icon:"search",dark:"dark",inverted:"inverted"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("articles",{attrs:{articles:e.articles,loading:e.loading}}),r("div",{staticClass:"text-center",staticStyle:{"margin-bottom":"16px"}},[e.canViewMore?r("q-btn",{staticStyle:{width:"200px"},attrs:{color:"primary",loader:"loader"},on:{click:e.loadMore}},[e._v("View More")]):e._e()],1)],1)},staticRenderFns:[]}}});